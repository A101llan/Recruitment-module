@model HR.Web.Models.Application
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewBag.Title = "Create Application";
}
<h3>Create Application</h3>
@using (Html.BeginForm("Create","Applications", FormMethod.Post, new { enctype="multipart/form-data" })) {
    @Html.AntiForgeryToken()
    <div class="form-group">
        @Html.LabelFor(m => m.ApplicantId, "Applicant")
        @if (ViewBag.CurrentApplicantId != null)
        {
            <p class="form-control-plaintext">@ViewBag.CurrentApplicantName</p>
            @Html.HiddenFor(m => m.ApplicantId, new { Value = ViewBag.CurrentApplicantId })
        }
        else
        {
            @Html.DropDownList("ApplicantId", null, "-- Select --", new { @class = "form-control" })
        }
        @Html.ValidationMessageFor(m => m.ApplicantId)
    </div>
    <div class="form-group">
        @Html.LabelFor(m => m.PositionId, "Position")
        @if (Model != null && Model.PositionId > 0)
        {
            @Html.HiddenFor(m => m.PositionId)
            var positionList = ViewBag.PositionId as System.Web.Mvc.SelectList;
            string positionText = "Position Selected";
            if (positionList != null)
            {
                foreach (System.Web.Mvc.SelectListItem item in positionList)
                {
                    if (item.Value == Model.PositionId.ToString())
                    {
                        positionText = item.Text;
                        break;
                    }
                }
            }
            <p class="form-control-plaintext">@positionText</p>
        }
        else
        {
            @Html.DropDownList("PositionId", ViewBag.PositionId as System.Web.Mvc.SelectList, "-- Select --", new { @class="form-control" })
        }
        @Html.ValidationMessageFor(m => m.PositionId)
    </div>
    <div class="form-group">
        @Html.LabelFor(m => m.Status)
        @Html.TextBoxFor(m => m.Status, new { @class="form-control" })
    </div>
    <div class="form-group">
        <label>Resume</label>
        <input type="file" name="resume" class="form-control-file" />
    </div>
    <button type="submit" class="btn btn-primary">Save</button>
    @Html.ActionLink("Back","Index", null, new { @class = "btn btn-red btn-sm" })
}
<script src="~/Scripts/jquery.validate.min.js"></script>
<script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>


























